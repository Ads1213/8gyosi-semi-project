<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="edu.kh.eightgyosi.mypage.model.mapper.DiaryMapper">

	<!-- 일기장 내용 저장-->
	<insert id="insertDiary">
        INSERT INTO "DIARY" ( 
            DIARY_DATE, 
            DIARY_TITLE, 
            DIARY_CONTENT, 
            MEMBER_NO
        ) VALUES (
			#{diaryDate},  
			#{diaryTitle}, 
            #{diaryContent}, 
            #{memberNo})
    </insert>

	<!-- 일기장 내용 조회 -->
	<select id="selectDiary">
		SELECT DIARY_TITLE, DIARY_CONTENT, MEMBER_NO, DIARY_DATE
		FROM DIARY 
		WHERE (DIARY_DATE = #{diaryDate})
		AND (MEMBER_NO = #{memberNo})
	</select>
	
	<!-- 일기장 내용 삭제 -->
	<delete id="deleteDiary">
		DELETE FROM DIARY 
		WHERE (DIARY_DATE = #{diaryDate})
		AND (MEMBER_NO = #{memberNo})
	</delete>
	
	
	<!-- 일기장 작성일 중복 확인 -->
	<select id="checkWhiteDate">
		SELECT NVL2(DIARY_TITLE, 1, 0) 
		FROM DIARY 
		WHERE (DIARY_DATE = #{diaryDate})
		AND (MEMBER_NO = #{memberNo})
	
	
	</select>
</mapper>
